<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <ul id="list">
        loading...
    </ul>
    <div id="pager">
        <!-- <button onclick="viewFruit(1)">1</button>
        <button onclick="viewFruit(2)">2</button>
        <button onclick="viewFruit(3)">3</button>
        <button onclick="viewFruit(4)">4</button> -->
    </div>
    <script>
        var fruit = ['苹果','桔子','香蕉','菠萝','甘蔗','西瓜','草莓','葡萄'];
        viewFruit();


        function viewFruit( page = 1 ){
            var perpage = 2;
            var total = fruit.length;
            pagecount = Math.ceil(total/perpage);


            //分页算法
            var start = (page-1) * perpage;
            var end =  start + perpage;
            


            //slice产生新数组，不用担心破坏了数组
            var  pageData = fruit.slice(start,end)

            var temp = '';
            //循环分页后的数组
            pageData.forEach(function(item,index){
                temp  += `<li>${index+1}.${item}`;
            })
            list.innerHTML = temp
        
        
                   //页码累加
            var pageTemp = '';
            pageTemp += `<button
             onclick = viewFruit(${page-1})
              ${page === 1&& 'disabled'}>上页</button>`;
        for(var p = 1;p<=pagecount;p++){
            pageTemp += `<button 
            style = "color:${p === page ? 'red': ''} " 
            onclick =" viewFruit(${page})">${p}</button>`;
        
        }
        pageTemp += `<button
             onclick = viewFruit(${page+1})
              ${page === pagecount&& 'disabled'}>下页</button>`;
              pager.innerHTML = pageTemp;
        }

 























    </script>
</body>
</html>